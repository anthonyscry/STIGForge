<Window x:Class="STIGForge.App.Views.BreakGlassDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Safety Override Required" Height="320" Width="500"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize"
        Background="{DynamicResource WindowBackgroundBrush}">
  <Grid Margin="24">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <TextBlock Grid.Row="0" Text="Safety Override Required" FontSize="20" FontWeight="Bold" Margin="0,0,0,8"
               Foreground="{DynamicResource DangerBrush}"/>

    <TextBlock Grid.Row="1" x:Name="BypassDescriptionText" TextWrapping="Wrap" Margin="0,0,0,16"
               Foreground="{DynamicResource TextMutedBrush}"/>

    <TextBlock Grid.Row="2" Text="Justification (minimum 8 characters):" Margin="0,0,0,4" FontWeight="SemiBold"/>

    <TextBox Grid.Row="3" x:Name="ReasonTextBox" TextWrapping="Wrap" AcceptsReturn="True"
             VerticalScrollBarVisibility="Auto" Margin="0,0,0,16"
             AutomationProperties.Name="Break-glass justification"
             ToolTipService.ToolTip="Operator justification recorded in the audit trail for this safety override."
             TextChanged="ReasonTextBox_TextChanged"/>

    <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
      <Button Content="Cancel" Width="100" Height="28" Margin="0,0,8,0" IsCancel="True"
              Click="Cancel_Click"/>
      <Button Content="Override" Width="120" Height="28" x:Name="OverrideButton" IsDefault="True"
              IsEnabled="False" Click="Override_Click" FontWeight="SemiBold"
              AutomationProperties.Name="Confirm safety override"/>
    </StackPanel>
  </Grid>
</Window>
