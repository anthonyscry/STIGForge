<UserControl x:Class="STIGForge.App.Views.WorkflowWizardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:STIGForge.App">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Step Indicator -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20">
            <TextBlock Text="1. Setup" Margin="10,0" FontWeight="{Binding CurrentStep, Converter={StaticResource StepFontWeightConverter}, ConverterParameter=Setup}"/>
            <TextBlock Text="→" Margin="5,0"/>
            <TextBlock Text="2. Import" Margin="10,0" FontWeight="{Binding CurrentStep, Converter={StaticResource StepFontWeightConverter}, ConverterParameter=Import}"/>
            <TextBlock Text="→" Margin="5,0"/>
            <TextBlock Text="3. Scan" Margin="10,0" FontWeight="{Binding CurrentStep, Converter={StaticResource StepFontWeightConverter}, ConverterParameter=Scan}"/>
            <TextBlock Text="→" Margin="5,0"/>
            <TextBlock Text="4. Harden" Margin="10,0" FontWeight="{Binding CurrentStep, Converter={StaticResource StepFontWeightConverter}, ConverterParameter=Harden}"/>
            <TextBlock Text="→" Margin="5,0"/>
            <TextBlock Text="5. Verify" Margin="10,0" FontWeight="{Binding CurrentStep, Converter={StaticResource StepFontWeightConverter}, ConverterParameter=Verify}"/>
            <TextBlock Text="→" Margin="5,0"/>
            <TextBlock Text="6. Done" Margin="10,0" FontWeight="{Binding CurrentStep, Converter={StaticResource StepFontWeightConverter}, ConverterParameter=Done}"/>
        </StackPanel>

        <!-- Step Content -->
        <ContentControl Grid.Row="1" Content="{Binding}" Margin="20,0">
            <ContentControl.Style>
                <Style TargetType="ContentControl">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding CurrentStep}" Value="Setup">
                            <Setter Property="ContentTemplate" Value="{StaticResource SetupStepTemplate}"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding CurrentStep}" Value="Import">
                            <Setter Property="ContentTemplate" Value="{StaticResource ImportStepTemplate}"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding CurrentStep}" Value="Scan">
                            <Setter Property="ContentTemplate" Value="{StaticResource ScanStepTemplate}"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding CurrentStep}" Value="Harden">
                            <Setter Property="ContentTemplate" Value="{StaticResource HardenStepTemplate}"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding CurrentStep}" Value="Verify">
                            <Setter Property="ContentTemplate" Value="{StaticResource VerifyStepTemplate}"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding CurrentStep}" Value="Done">
                            <Setter Property="ContentTemplate" Value="{StaticResource DoneStepTemplate}"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentControl.Style>
        </ContentControl>

        <!-- Navigation Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="← Back" Width="100" Height="36" Margin="0,0,10,0"
                    Command="{Binding GoBackCommand}"
                    IsEnabled="{Binding CanGoBack}"/>
            <Button Content="Next →" Width="100" Height="36"
                    Command="{Binding GoNextCommand}"
                    IsEnabled="{Binding CanGoNext}"/>
        </StackPanel>
    </Grid>
</UserControl>
