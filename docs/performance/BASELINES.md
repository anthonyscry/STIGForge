# Performance Baselines

**Date:** 2026-02-23
**Hardware:** [To be filled when benchmarks are run]
**Runtime:** .NET 8.0.x, Windows 11

This document establishes performance baseline measurements for STIGForge Next.
Baseline values are "Pending" until benchmarks are executed on reference hardware.

## How to Run Benchmarks

```bash
# Build in Release mode
dotnet build -c Release

# Run all benchmarks
dotnet run -c Release --project benchmarks/STIGForge.Benchmarks

# Run specific benchmark categories
dotnet run -c Release --project benchmarks/STIGForge.Benchmarks --filter "*StartupBenchmarks*"
dotnet run -c Release --project benchmarks/STIGForge.Benchmarks --filter "*MissionBenchmarks*"
dotnet run -c Release --project benchmarks/STIGForge.Benchmarks --filter "*ScaleBenchmarks*"
dotnet run -c Release --project benchmarks/STIGForge.Benchmarks --filter "*MemoryBenchmarks*"

# Quick iteration (shorter runs for development)
dotnet run -c Release --project benchmarks/STIGForge.Benchmarks -- --job short
```

Results are saved to `BenchmarkDotNet.Artifacts/` directory.

---

## Startup Time

| Metric | Target | Baseline | Status |
|--------|--------|----------|--------|
| Cold startup | < 3s | Pending | Not measured |
| Warm startup | < 1s | Pending | Not measured |
| Perceived (splash to interactive) | < 2s | Pending | Not measured |

**Measurement methodology:**
- **Cold startup:** Process.Start with --exit-after-load flag, measures from OnStartup to MainWindow.Loaded
- **Warm startup:** Requires external orchestration (not measured in-process)
- **Perceived:** User experience from application launch to interactive UI

**Benchmark class:** `StartupBenchmarks`

---

## Mission Duration (by scale)

| Mission Phase | 100 rules | 1K rules | 10K rules |
|---------------|-----------|----------|-----------|
| Build | Pending | Pending | Pending |
| Apply | Pending | Pending | Pending |
| Verify (Evaluate-STIG) | Pending | Pending | Pending |
| Verify (SCAP) | Pending | Pending | Pending |
| Prove (Evidence) | Pending | Pending | Pending |

**Measurement methodology:**
- Benchmarks use synthetic STIG data generated by `GenerateTestBundle`
- Apply phase is a placeholder (requires PowerShell/system context for real measurement)
- Verify phases use mock services to isolate orchestration overhead

**Benchmark class:** `MissionBenchmarks`

**Target expectations:**
- Build: Should scale linearly with rule count
- Apply: Depends on system configuration complexity
- Verify: Depends on external tool performance
- Prove: Should be sub-second for any scale

---

## Scale Validation (10K+ Rules)

| Scale | Memory Peak | Duration | Status |
|-------|-------------|----------|--------|
| 100 rules | Pending | Pending | Not measured |
| 1,000 rules | Pending | Pending | Not measured |
| 5,000 rules | Pending | Pending | Not measured |
| 10,000 rules | Pending | Pending | Not measured |
| 15,000 rules | Pending | Pending | Not measured |

**Target:** System must handle 10K+ rules without OutOfMemoryException.

**Benchmark class:** `ScaleBenchmarks`

**Memory threshold warning:** 2GB at 10K+ rules indicates potential optimization needed.

---

## Performance Requirements Reference

| ID | Requirement | Status |
|----|-------------|--------|
| PERF-01 | Cold startup baseline established (<3s) | Infrastructure ready |
| PERF-02 | Warm startup baseline established (<1s) | Infrastructure ready |
| PERF-03 | Mission duration baselines documented | Infrastructure ready |
| PERF-04 | Scale testing validates 10K+ rules without OOM | Infrastructure ready |
| PERF-05 | Memory profile with leak detection | Infrastructure ready |
| PERF-06 | I/O bottlenecks identified | See IO_BOTTLENECKS.md |

---

## Historical Measurements

Measurements will be added here as benchmarks are executed on reference hardware.

### Template for Recording Measurements

```markdown
### [Date] - [Hardware Description]

**Hardware:**
- CPU: [Model]
- RAM: [Size]
- Storage: [SSD/HDD type]
- OS: [Version]

**Results:**
| Metric | Value |
|--------|-------|
| Cold startup | X.XX s |
| Warm startup | X.XX s |
| Build (1K rules) | X.XX s |
| Peak memory (10K rules) | XXX MB |
```
